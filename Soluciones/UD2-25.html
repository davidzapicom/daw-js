<!DOCTYPE HTML>
<html lang='es'>

<head>
	<title>Ejercicio 25 - Tema 2</title>
	<meta charset='UTF-8' />
</head>

<body>
	<script>
		let moneda;
		let respuesta = 'si';
		let cantidad = 0;
		let saldo = 100;   // saldo inicial
		let aleatorio = 0;

		const rango_superior = 1; // valores para cálculo aleatorio
		const rango_inferior = 0; // valores para cálculo aleatorio

		cantidad = parseInt(prompt(`Dispones de ${saldo}€. ¿Cuanto quieres apostar?`))
		while (isNaN(cantidad) || cantidad < 0 || cantidad > saldo) {
			alert("Introduce una cantidad válida");
			cantidad = parseInt(prompt(`Dispones de ${saldo}€. ¿Cuanto quieres apostar?`))
		}

		while (cantidad > 0 && respuesta === 'si') {

			aleatorio = Math.floor(Math.random() * (rango_superior - (rango_inferior - 1))) + rango_inferior;

			moneda = aleatorio === 1 ? 'cara' : 'cruz';

			alert(`Ha salido ${moneda} `);

			if (moneda === "cara") {
				cantidad *= 2
				saldo += cantidad;
				respuesta = prompt(`Has ganado ${cantidad} €. Tu saldo es: ${saldo}. ¿Desas volver a jugar`, "si");
			}
			else {
				saldo -= cantidad;
				cantidad  = 0;
				respuesta = prompt(`Lo siento has perdido  ${cantidad} €. Tu saldo es: ${saldo}. ¿Desas volver a jugar`, "si")
			}
			if (saldo === 0) {
				alert("Lo siento, no tienes saldo para continuar jugando");
			} else {
					if (respuesta === 'si') {
						cantidad = parseInt(prompt(`Dispones de ${saldo}€. ¿Cuanto quieres apostar?`))
						while (isNaN(cantidad) || cantidad < 0 || cantidad > saldo) {
							alert("Introduce una cantidad válida");
							cantidad = parseInt(prompt(`Dispones de ${saldo}€. ¿Cuanto quieres apostar?`))
					}
				}
			}
		}
		
		alert(`Juego finalizado. Tienes ${saldo}€ `)

	</script>
</body>

</html>