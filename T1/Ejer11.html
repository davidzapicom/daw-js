<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Practica productos</title>
</head>
<body>
    <form action="#" method="POST" name="form">
        Nombre del producto:
        <input type="text" id="producto">
        Cuantos kilos quieres comprar:
        <input type="text" id="kg" ><br>
        Precio Unidad:
        <input type="text" name="Unidad" >
        Valor Descuento  : 
        <input type="text" name="Descuento" ><br>
        Precio Total:
        <input type="text" name="sinDescuento" >
        Precio con descuento: 
        <input type="text" name="conDescuento" ><br>
        <input type="button" value="Enviar" onclick="precio()">
    </form>
    <script>
        var productos=[["Lentejas",100,0.20],["Lentejas",500,0.18],["Lentejas",1000, 0.17],["Lentejas",5000,0.15],["Lentejas",10000,0.14]];
        var descuentos=[[0,0],[1000, 0.12],[3000, 0.15],[5000, 0.18],[10000, 0.2]];
        var formulario= document.forms.form;
        function precio(){
            var formulario= document.forms.form;
            var verificar=true;
            var kg = document.getElementById("kg").value;
            var producto = document.getElementById("producto").value;
            for (let x = 0; x < productos.length; x++) {
                if(producto == productos[x][0]){
                    verificar=true;
            for (let index = 0; index < productos.length; index++) {
                var num1=productos[index][1];
                var num2=productos[index+1][1];
                var max=productos[productos.length-1][1];
                var aux;
                if(kg>= max){
                        aux=productos[productos.length-1][2];
                        break;
                    }
                if(kg >= num1 && kg <num2 ){
                    aux=productos[index][2];
                    break;                                 
                }   
            }
           let precioSinDesc=formulario.sinDescuento;
            precioSinDesc.value=(kg*aux)+"€";;
            let Unidad = formulario.Unidad;
            Unidad.value= aux+"€";;
            for (let y = 0; y < descuentos.length; y++) {
                var des1=descuentos[y][0];
                var des2=descuentos[y+1][0];
                var maxdes=descuentos[descuentos.length-1][0];
                var des;
                if(kg>= maxdes){
                        des=descuentos[descuentos.length-1][1];
                        break;
                    }
                if(kg >= des1 && kg <des2 ){
                    des=descuentos[y][1];
                    break;                                 
                } 
            }
            let aux2=(kg*aux)-((kg*aux)*des);
            let precioConDesc=formulario.conDescuento;
            let Descuento= formulario.Descuento;
            Descuento.value=(des*100)+"%";
            precioConDesc.value=aux2+"€";
            break;
        }
        else{
            verificar=false;
        }
        }
        if(!verificar){
            alert("Producto invalido");
        }
    }
    </script>
</body>
</html>