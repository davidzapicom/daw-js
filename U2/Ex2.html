<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen ejercicio 2</title>
    <style>
        table{
            width:300px;
            font-size:24px;
        }
    </style>
</head>
<body>
<h1>Calendario</h1>
    <script>
        var mes = prompt("Introduce mes entre (1/12)");
        while(mes<0 || mes>13 || isNaN(mes) || mes==""){
            var mes = parseInt(prompt("Introduce otro mes entre (1/12), valor incorrecto"));
        }
        var año = parseInt(prompt("Introduce año postivo"));
        while(año<=0 || año>2021 || isNaN(año) || mes==""){
            var año = parseInt(prompt("Introduce otro año , valor incorrecto"));
        }

        let fecha = new Date(año+"-"+mes+"-01"); 
        let diaSemana = fecha.getDay();//obtengo el de dia de la semana de 0 a 6
        var dias = ['','Lunes','Martes','Miercoles','Jueves','Viernes','Sabado','Domingo'];
        var aux = ['Lu','Ma','Mi','Ju','Vi','Sa','Do'];
        var meses = ['Enero','Febrero','Marzo','Abril','Mayo','Junio','Julio','Agosto','Septiembre','Octubre','Noviembre','Diciembre'];
        var dias_mes=new Date(año, mes, 0).getDate();//Calcular los días de la semana del mes introducido
        var texto="   Mes de "+meses[mes-1]+" del año "+año+"\n";
        if(diaSemana==0){// Si es domingo es 0 osea que pongo 7 para evitar confusiones
            diaSemana=7;
        }
        var cont=0;
        var primera_fila = true;
        for(i=0;i<=6;i++) {
            texto+=(aux[i]+"\t");  
        }
        texto+="\n";
        while(cont<dias_mes ){ //Hago un bucle hasta los días que tiene dicho mes
            if(primera_fila){
            for(z=1;z<=7;z++){
                    primera_fila = false;
                    if(z>=diaSemana){
                    cont++;
                    texto+=cont+"\t";
                    }
                    else{
                    texto+="\t";
                    }
                }
            }
            else{
                for(y=1;y<=7;y++){
                    cont++;
                    texto+=cont+"\t";
                    if(cont==dias_mes){
                        break;
                    }
                }
            }
        texto+="\n";
        }
        alert(texto);
    </script>
</body>
</html>