<!DOCTYPE html>
<html lang="es">
<head>
	<title>Ejercicio 6</title>
</head>
<body>
<button type="button" id="alta">Altas</button>
<button type="button" id="baja">Bajas</button>
<button type="button" id="modif">Modificaciones</button>
<button type="button" id="consulta" >Consultas</button>
<button type="button" id="listado" >Listado</button>

<table id="tabla" border="1">
  </table>

<script type="text/javascript">
	class Registro{
		constructor(usuario,clave,pregunta,respuesta){
			this.usuario = usuario;
			this.clave=clave;
			this.pregunta= pregunta;
			this.respuesta = respuesta;
		}

		añadir(){
			alta.addEventListener("click",function(){

			var usu = prompt ("Introduce usuario: ");
			var clave =  prompt("Introduce clave: ");
			var pregunta = prompt("Introduce pregunta: ");
			var respu = prompt("Introduce respuesta: ");

            var nuevoUsu = new Registro (usu,clave,pregunta,respu);
			usuarios.push(nuevoUsu);
		});
		}

		eliminar(){
			baja.addEventListener("click",function(){
			var nombreUsu = prompt ("Que usuario deseas eliminar: ");
			for(var i = 0; i < usuarios.length; i++) {
   			if(usuarios[i].usuario === nombreUsu) {
   				usuarios.splice(i, 1);
   			} 
			}
			});
		}

		modificar(){
			modif.addEventListener("click",function(){
            var nombreUsu = prompt ("Que usuario deseas modificar: ");
            for(var i = 0; i < usuarios.length; i++) {
   			if(usuarios[i].usuario === nombreUsu) {
   			usuarios.splice(i, 1);
   			var usu = prompt ("Introduce nuevo usuario: ");
			var clave =  prompt("Introduce nueva clave: ");
			var pregunta = prompt("Introduce nueva pregunta: ");
			var respu = prompt("Introduce nueva respuesta: ");

            var nuevoUsu = new Registro (usu,clave,pregunta,respu);
			usuarios.push(nuevoUsu);
   			} 
			}
			});
		}

		buscar(){
			consulta.addEventListener("click",function(){
             document.getElementById("tabla").innerHTML = "";
  		  document.getElementById("tabla").innerHTML ="<thead><th>Usuario</th><th>Clave</th><th>Pregunta de seguridad</th><th>Respuesta</th></thead>";
  		  var nombreUsu = prompt ("Que usuario deseas consultar: ");
   			 for (var i=0; i<usuarios.length; i++){
   			 	if(usuarios[i].usuario === nombreUsu) {
      		 document.getElementById("tabla").innerHTML += "<tbody><td>" + usuarios[i].usuario + "</td><td>"+ usuarios[i].clave + "</td><td>"+ usuarios[i].pregunta + "</td><td>"+ usuarios[i].respuesta + "</td></tbody>";
      		  }
       }

			});
		}

		listar(){
			listado.addEventListener("click",function(){
             document.getElementById("tabla").innerHTML = "";
  		  document.getElementById("tabla").innerHTML ="<thead><th>Usuario</th><th>Clave</th><th>Pregunta de seguridad</th><th>Respuesta</th></thead>";
   			 for (var i=0; i<usuarios.length; i++){
      		 document.getElementById("tabla").innerHTML += "<tbody><td>" + usuarios[i].usuario + "</td><td>"+ usuarios[i].clave + "</td><td>"+ usuarios[i].pregunta + "</td><td>"+ usuarios[i].respuesta + "</td></tbody>";
       }

			});
		}

	}

	var usuarios = [new Registro ("Clara","claraAlp","Año de nacimiento","1998"),
	new Registro ("Anon1998","Anon1998sdfs","Nombre de tu mascota","Ralphi"),
	new Registro ("faninsdf","corfieor","Color favorito","rojo")];
	var usu = new Registro();
    usu.añadir();
    usu.eliminar();
    usu.modificar();
    usu.buscar();
    usu.listar();
</script>
</body>
</html>