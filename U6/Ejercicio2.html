<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="utf-8">
	<title>Ejercicio 2</title>
</head>
<body>

<table id="tabla">
	<thead>
		<th>Nombre</th>
		<th>Nota 1</th>
		<th>Nota 2</th>
		<th>Nota 3</th>
	</thead>
</table>
<p id="alumn"></p>
<button type="button" id="bt">Añadir alumno</button>
<button type="button" id="elim">Eliminar alumno</button>
<button type="button" id="medias">Notas medias</button>
<button type="button" id="mostrar" >Mostrar alumnos</button>
<script type="text/javascript">
	class Alumno {
		constructor(nombre,nota1,nota2,nota3){
         this.nombre = nombre;
         this.nota1 = nota1;
         this.nota2 = nota2;
         this.nota3 = nota3;
		}

	     añadir(){
	     	document.getElementById("bt").addEventListener("click",function(){

			var nombre = prompt ("Introduce nombre: ");
			var nota1 = parseInt (prompt("Introduce nota: "));
			var nota2 = parseInt (prompt("Introduce nota: "));
			var nota3 = parseInt (prompt("Introduce nota: "));

            var nuevoAlumno = new Alumno (nombre,nota1,nota2,nota3);
			alumnos.push(nuevoAlumno);
		});
		}

		mostrar(){
           document.getElementById("mostrar").addEventListener("click",function(){
           	document.getElementById("tabla").innerHTML = " ";
           	document.getElementById("tabla").innerHTML = ("<thead><th>Nombre</th><th>Nota 1</th><th>Nota 2</th><th>Nota 3</th></thead>")
           var alumorder = alumnos.sort(function (a, b) {
           if (a.nombre < b.nombre){
  			return -1;
  			 }
    		if (a.nombre > b.nombre) { 
            return 1;
   		    return 0;
   		    }
            });
            console.log (alumorder);
           for (var i=0; i<alumorder.length;i++){
           document.getElementById("tabla").innerHTML += "<tbody><td>" + alumorder[i].nombre + "</td><td>" + alumorder[i].nota1 + "</td><td>" + alumorder[i].nota2 + " </td><td> " + alumorder[i].nota3 + "</td></tbody>";
           }
		});
		}

		eliminar(){
			document.getElementById("elim").addEventListener("click",function(){
			var nombreAlu = prompt ("Que alumno deseas eliminar: ");
			for(var i = 0; i < alumnos.length; i++) {
   			if(alumnos[i].nombre === nombreAlu) {
   				alumnos.splice(i, 1);
   			} 
			}
			});
		}

		media(){
			document.getElementById("medias").addEventListener("click",function(){
			
			document.getElementById("tabla").innerHTML = " ";
           	document.getElementById("tabla").innerHTML = ("<thead><th>Nombre</th><th>Nota 1</th><th>Nota 2</th><th>Nota 3</th><th>Media</th></thead>")
				//Alumno.prototype.media= media;
				var media =0;
				var suma=0;
				for (var i=0; i<alumnos.length;i++){
					suma= alumnos[i].nota1 + alumnos[i].nota2 + alumnos[i].nota3;
					media = suma/3;
					document.getElementById("tabla").innerHTML += "<tbody><td>" + alumnos[i].nombre + "</td><td>" + alumnos[i].nota1 + "</td><td>" + alumnos[i].nota2 + " </td><td> " + alumnos[i].nota3 + "</td><td> " + media + "</br></tbody>";
				}
				console.log (alumnos);
			
		});
	   }

	}
	var alumnos = [
	new Alumno ("Clara",7,6,5),
	new Alumno ("Sara",8,8,8),
	new Alumno ("Pedro",10,5,7)];
    var alumnado = new Alumno ();
    alumnado.añadir();
    alumnado.media();
    alumnado.eliminar();
    alumnado.mostrar();
    


</script>

</body>
</html>